{
  "rules": {
    "teams": {
      "$team_id": {
        ".read": true,
        ".write": "!data.exists() || auth.token.email === data.child('email').val()",
        ".indexOn": [
          "email",
          "name"
        ],
        "email": {
          ".validate": "newData.val().length > 4 && ((data.exists() && data.val() === newData.val()) || !data.exists())"
        },
        "name": {
          ".validate": "newData.val().length > 3 && ((data.exists() && data.val() === newData.val()) || !data.exists())"
        }
      }
    }
  }
}
